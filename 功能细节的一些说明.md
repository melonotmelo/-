# 功能细节的一些解释

> 大体参考自《需求规格说明书》，考虑到开发实际做出一些修改；
>
> 开发过程中的一切细节问题参考此文档，测试也以此为标准。

## 用户注册

可选的两种方式：**邮箱注册**和**手机号注册**

除了邮箱或手机号以外都需要输入：

- 手机号或邮箱：
  - 判断合法性：邮箱格式，Vue 有自动的判断函数；
  - 手机号：判断是不是 11 位；
  - 前端对非法输入给出提示；
  - 后端也会检查，非法则给出错误码和报错信息。

- 用户名：
  - 3-10 个字符：这是写在前端界面给用户看的；
  - 用户名可以有中文，但**不能含有空格、Tab 等不可见字符**
  - 前端需要对这个作出合法性判断，对非法输入给出**提示**
    - 注意一个中文字符占 2 字节大小，要考虑这个
    - 判断长度
    - 判断不能含有不可见字符
  - 为了保险，后端也会判断，若非法则返回错误码
  - 在存储时将字段最大长度设为了 20，超出长度会返回错误码
  - 判断**用户名重复**由后端来实现
- 密码：
  - 5-18 位：写给前端用户看；
  - 只能是**数字**或**英文字母**；
  - 不允许单一类型密码：
    - 纯数字
    - 纯大写
    - 纯小写
  - 前端对以上错误给出提示，同时后端也会检查。
- 身份证号：
  - 使用身份证号判断规则，前端给出合法性反馈，后端检查双保险；
  - 判断是否重复交给后端实现。
- 性别：由身份证号自动填充；
- 生日：由身份证号实时填充；
- 前端需要传的字段：
  - 邮箱/手机号：email/tel
  - 身份证号：id
  - 用户名：username
  - 密码：password